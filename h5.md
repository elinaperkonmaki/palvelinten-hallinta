# h5 Toimiva versio

## x) Lue ja tiivistä. (Tässä x-alakohdassa ei tarvitse tehdä testejä tietokoneella, vain lukeminen tai kuunteleminen ja tiivistelmä riittää. Tiivistämiseen riittää muutama ranskalainen viiva. Kannattaa lisätä mukaan myös jokin oma havainto, idea tai kysymys.)

Git tallentaa projektin eri versiot talteen niin, että jokaisesta tallennuksesta jää kopio,
Toimii offline ja se huomaa automaattisesti, jos tiedostoihin tulisi vahingossa muutoksia, mikä tekee historiasta luotettavan


git add . = lisää muutokset

git commit  = tallentaa paikalliseen repositorioon

git pull = hakee muutokset

git push = lähettää omat commitit

o	Varaston terokarvinen/suolax/ historia

Initial commit 
Improve README.md 
Hello world -tila 
Makefile 
Favourites-tila 
top.sls 
READMEn siivous
Improve usage instructions
Committeja on 8 ja ne muodostava askel kerrallaan rakennetun kokonaisuuden.


## a) Online. Tee uusi varasto GitHubiin (tai Gitlabiin tai mihin vain vastaavaan palveluun). Varaston nimessä ja lyhyessä kuvauksessa tulee olla sana "snow". Aiemmin tehty varasto ei kelpaa. 
(Muista tehdä varastoon tiedostoja luomisvaiheessa, esim README.md ja GNU General Public License 3)

Aloitin tekemällä uuden repon Git hubiin

<img width="600" height="633" alt="image" src="https://github.com/user-attachments/assets/81680990-0dad-4713-8ffe-3a9b7a145ad5" />

 
## b) Dolly. Kloonaa edellisessä kohdassa tehty uusi varasto itsellesi, tee muutoksia omalla koneella, puske ne palvelimelle, ja näytä, että ne ilmestyvät weppiliittymään.

Kloonasin repon Githubissa Code -> SSH -> copy
Ja terminaalissa komennolla

    git clone git@github......

    cd Salty-Snow/
    
    nano README.md


 <img width="700" height="665" alt="image" src="https://github.com/user-attachments/assets/48fb4b6b-1ffb-4d9b-b7d8-ead6cf0ad0d6" />

Muokkasin README tiedostoa

Ja puskin muutokset

    git add .
    git commit

 <img width="700" height="595" alt="image" src="https://github.com/user-attachments/assets/57940974-6f15-44a7-bf26-cb1897e01a94" />

    git pull 
    git push

<img width="700" height="748" alt="image" src="https://github.com/user-attachments/assets/c01b8d0b-5990-4c8a-a435-1f9e02d364df" />

 
Muutokset tulivat näkyviin

## c) Doh! Tee tyhmä muutos gittiin, älä tee commit:tia. Tuhoa huonot muutokset ‘git reset --hard’. Huomaa, että tässä toiminnossa ei ole peruutusnappia.

<img width="600" height="403" alt="image" src="https://github.com/user-attachments/assets/684eead6-8725-4794-9e8d-190c14598cae" />

 
Tein tyhmän muutoksen

<img width="700" height="270" alt="image" src="https://github.com/user-attachments/assets/bb0ceff5-5468-4b71-b2a8-104df484729b" />

    git status

Katsoin mitä on muutettu ”modified: README.md”

<img width="700" height="441" alt="image" src="https://github.com/user-attachments/assets/f2400cb8-dadb-49aa-b4ba-4795ec0c82c3" />

 
    git reset –hard
    git status

    
README palautunut

## d) Tukki. Tarkastele ja selitä varastosi lokia. Tarkista, että nimesi ja sähköpostiosoitteesi näkyy haluamallasi tavalla ja korjaa tarvittaessa.

 <img width="700" height="623" alt="image" src="https://github.com/user-attachments/assets/6df553de-bb09-4fc6-8bdd-8b159d97f38b" />

Katsoin historiaa komennolla

    git log

Lokissa näkyy neljä commitia README luonti, lisenssitiedoston lisäys, README-muutokset ja viimeisin muokkaus. Jokaisessa commitissa on; commit-hash, nimi ja sähköposti, aikaleima, commit-viesti. Yhdessä commitissa sähköposti oli muodossa elinax@…virtualbox.org, koska git user.email ei ollut asetettuna. Asetin oikean sähköpostin ja nimen komennolla
 
     git config --global user.name 
     
ja
    
    git config - -global  user.email

## e) Suolattu rakki. Aja Salt-tiloja omasta varastostasi. (Salt tiedostot mistä vain hakemistosta "--file-root teronSaltHakemisto". Esimerkiksi 'sudo salt-call --local --file-root srv/salt/ state.apply', huomaa suhteellinen polku.)


Loin Salt-kansion

     mkdir -p salt/demo

Tein top.sls
base:
  '*':
    - demo


Tein demon

/tmp/snowtest.txt:
  file.managed:
    - contents: "Hello Snow"
Puskin Saltin Githubiin
    git add salt
    git commit
    
<img width="700" height="419" alt="image" src="https://github.com/user-attachments/assets/034b5835-d9d8-4cd2-af04-8653eef38a28" />

 
    git pull
    git push

 <img width="700" height="651" alt="image" src="https://github.com/user-attachments/assets/4f224083-a01d-41c2-b040-1fe5bc2244c6" />


Ajoin Saltin

    sudo salt-call --local --file-root ./salt state.apply

 <img width="600" height="573" alt="image" src="https://github.com/user-attachments/assets/d0cdcdc5-3a73-47a7-879a-c37d87774ed0" />


Salt loi tiedoston /tmp/snowtest.txt

 <img width="600" height="64" alt="image" src="https://github.com/user-attachments/assets/7c071542-1340-49d0-bae7-a95eacdaa9d2" />


     git log --patch


Lähteet:

https://terokarvinen.com/palvelinten-hallinta/
